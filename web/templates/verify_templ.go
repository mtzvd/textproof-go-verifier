// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func Verify() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = VerifyContent().Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func VerifyContent() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var2 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var2 == nil {
			templ_7745c5c3_Var2 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"columns is-centered\"><div class=\"column is-two-thirds\"><!-- Заголовок --><div class=\"mb-6\"><h1 class=\"title is-2\"><i class=\"fas fa-search mr-3\"></i> Проверка текста</h1><p class=\"subtitle\">Проверьте подлинность и авторство текста</p></div><!-- Табы выбора метода проверки --><div class=\"tabs is-centered is-boxed mb-6\"><ul><li class=\"is-active\" id=\"tab-by-id\"><a onclick=\"switchTab('by-id')\"><i class=\"fas fa-id-card mr-2\"></i> По идентификатору</a></li><li id=\"tab-by-text\"><a onclick=\"switchTab('by-text')\"><i class=\"fas fa-file-alt mr-2\"></i> По тексту</a></li></ul></div><!-- Проверка по ID --><div id=\"verify-by-id\" class=\"tab-content\"><div class=\"box\" x-data=\"{\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\tresult: null,\r\n\t\t\t\t\terror: null,\r\n\t\t\t\t\t\r\n\t\t\t\t\tasync verifyById() {\r\n\t\t\t\t\t\tthis.isLoading = true;\r\n\t\t\t\t\t\tthis.error = null;\r\n\t\t\t\t\t\tthis.result = null;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst response = await fetch(`/api/verify/id/${this.id}`);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\t\t\t\tif (response.status === 404) {\r\n\t\t\t\t\t\t\t\t\tthrow new Error('Текст с таким ID не найден');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconst errorData = await response.json();\r\n\t\t\t\t\t\t\t\tthrow new Error(errorData.error || 'Ошибка при проверке');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.result = await response.json();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\tthis.error = err.message;\r\n\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\"><!-- Форма --><form @submit.prevent=\"verifyById()\"><div class=\"field\"><label class=\"label\">Идентификатор текста</label><div class=\"control has-icons-left\"><input class=\"input\" type=\"text\" placeholder=\"123-456-789\" pattern=\"[A-Za-z0-9-]+\" x-model=\"id\" required> <span class=\"icon is-small is-left\"><i class=\"fas fa-hashtag\"></i></span></div><p class=\"help\">Введите ID в формате: 123-456-789 или A-123-456-789</p></div><div class=\"field\"><button class=\"button is-info\" :class=\"{'is-loading': isLoading}\" :disabled=\"isLoading || !id\" type=\"submit\"><i class=\"fas fa-search mr-2\"></i> Проверить</button></div></form><!-- Результат --><div x-show=\"result\" x-transition><article class=\"message\" :class=\"{'is-success': result.found, 'is-warning': !result.found}\"><div class=\"message-header\"><p><span x-text=\"result.found ? 'Текст найден!' : 'Текст не найден'\"></span></p></div><div class=\"message-body\"><template x-if=\"result.found\"><div><!-- Информация о тексте --><div class=\"content\"><p><strong>Автор:</strong> <span x-text=\"result.author\"></span></p><p><strong>Название:</strong> <span x-text=\"result.title\"></span></p><p><strong>ID:</strong> <code x-text=\"result.block_id\"></code></p><p><strong>Зафиксирован:</strong> <span x-text=\"new Date(result.timestamp).toLocaleString('ru-RU')\"></span></p><p><strong>Хеш текста:</strong> <code class=\"is-family-monospace\" x-text=\"result.hash.substring(0, 16) + '...'\"></code></p></div><!-- QR-код --><div class=\"has-text-centered mt-4\"><img :src=\"'/api/qrcode/' + result.block_id\" alt=\"QR Code\" class=\"qrcode-img\"><p class=\"help mt-2\">QR-код для быстрой проверки</p></div><div class=\"notification is-info is-light mt-4\"><p><i class=\"fas fa-info-circle mr-2\"></i>Эта информация подтверждает, что текст с указанным хешем был зафиксирован в указанное время. Для полной проверки необходимо сравнить оригинальный текст с сохраненным хешем.</p></div></div></template><template x-if=\"!result.found\"><div><p>Текст с таким идентификатором не найден в блокчейне.</p><p class=\"mt-2\">Возможные причины:</p><ul><li>Идентификатор введен неправильно</li><li>Текст ещё не был зафиксирован</li><li>Идентификатор устарел или был удален</li></ul></div></template></div></article></div><!-- Ошибка --><div x-show=\"error\" x-transition><article class=\"message is-danger\"><div class=\"message-body\"><i class=\"fas fa-exclamation-triangle mr-2\"></i> <span x-text=\"error\"></span></div></article></div></div></div><!-- Проверка по тексту --><div id=\"verify-by-text\" class=\"tab-content\" style=\"display: none;\"><div class=\"box\" x-data=\"{\r\n\t\t\t\t\ttext: '',\r\n\t\t\t\t\tisLoading: false,\r\n\t\t\t\t\tresult: null,\r\n\t\t\t\t\terror: null,\r\n\t\t\t\t\t\r\n\t\t\t\t\tasync verifyByText() {\r\n\t\t\t\t\t\tthis.isLoading = true;\r\n\t\t\t\t\t\tthis.error = null;\r\n\t\t\t\t\t\tthis.result = null;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst response = await fetch('/api/verify/text', {\r\n\t\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\t\t\t\t\tbody: JSON.stringify({ text: this.text })\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\t\t\t\tconst errorData = await response.json();\r\n\t\t\t\t\t\t\t\tthrow new Error(errorData.error || 'Ошибка при проверке');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.result = await response.json();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\tthis.error = err.message;\r\n\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\tthis.isLoading = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\"><!-- Форма --><form @submit.prevent=\"verifyByText()\"><div class=\"field\"><label class=\"label\">Текст для проверки</label><div class=\"control\"><textarea class=\"textarea\" placeholder=\"Введите текст для проверки...\" rows=\"8\" x-model=\"text\" required></textarea></div><p class=\"help\" x-text=\"text ? `Длина текста: ${text.length} символов` : ''\"></p></div><div class=\"field\"><button class=\"button is-info\" :class=\"{'is-loading': isLoading}\" :disabled=\"isLoading || !text\" type=\"submit\"><i class=\"fas fa-search mr-2\"></i> Проверить</button></div></form><!-- Результат --><div x-show=\"result\" x-transition><article class=\"message\" :class=\"{'is-success': result.found, 'is-warning': !result.found}\"><div class=\"message-header\"><p><span x-text=\"result.found ? 'Текст найден!' : 'Текст не найден'\"></span></p></div><div class=\"message-body\"><template x-if=\"result.found\"><div><!-- Информация о тексте --><div class=\"content\"><p><strong>Автор:</strong> <span x-text=\"result.author\"></span></p><p><strong>Название:</strong> <span x-text=\"result.title\"></span></p><p><strong>ID:</strong> <code x-text=\"result.block_id\"></code></p><p><strong>Зафиксирован:</strong> <span x-text=\"new Date(result.timestamp).toLocaleString('ru-RU')\"></span></p><p><strong>Хеш текста:</strong> <code class=\"is-family-monospace\" x-text=\"result.hash.substring(0, 16) + '...'\"></code></p></div><!-- QR-код --><div class=\"has-text-centered mt-4\"><img :x-src=\"'/api/qrcode/' + result.block_id\" alt=\"QR Code\" class=\"qrcode-img\"><p class=\"help mt-2\">QR-код для быстрой проверки</p></div><div class=\"notification is-success is-light mt-4\"><p><i class=\"fas fa-check-circle mr-2\"></i>Хеш введенного текста совпадает с хешем, зафиксированным в блокчейне. Текст не изменялся с момента фиксации.</p></div></div></template><template x-if=\"!result.found\"><div><p>Такой текст не найден в блокчейне.</p><p class=\"mt-2\">Это означает, что:</p><ul><li>Этот текст ещё не был зафиксирован в системе</li><li>Текст был изменен после фиксации (хеш не совпадает)</li><li>Или фиксация была произведена в другой системе</li></ul><div class=\"mt-4\"><a href=\"/deposit\" class=\"button is-primary\"><i class=\"fas fa-upload mr-2\"></i> Зафиксировать этот текст</a></div></div></template></div></article></div><!-- Ошибка --><div x-show=\"error\" x-transition><article class=\"message is-danger\"><div class=\"message-body\"><i class=\"fas fa-exclamation-triangle mr-2\"></i> <span x-text=\"error\"></span></div></article></div></div></div><!-- JavaScript для табов --><script>\r\n\t\t\t\tfunction switchTab(tabName) {\r\n\t\t\t\t\t// Обновляем активный таб\r\n\t\t\t\t\tdocument.querySelectorAll('.tabs li').forEach(li => li.classList.remove('is-active'));\r\n\t\t\t\t\tdocument.querySelectorAll('.tab-content').forEach(div => div.style.display = 'none');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (tabName === 'by-id') {\r\n\t\t\t\t\t\tdocument.getElementById('tab-by-id').classList.add('is-active');\r\n\t\t\t\t\t\tdocument.getElementById('verify-by-id').style.display = 'block';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdocument.getElementById('tab-by-text').classList.add('is-active');\r\n\t\t\t\t\t\tdocument.getElementById('verify-by-text').style.display = 'block';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Проверяем, есть ли ID в URL (для прямых ссылок /verify/{id})\r\n\t\t\t\tconst pathParts = window.location.pathname.split('/');\r\n\t\t\t\tif (pathParts.length === 3 && pathParts[1] === 'verify' && pathParts[2]) {\r\n\t\t\t\t\tconst id = pathParts[2];\r\n\t\t\t\t\t// Устанавливаем ID в поле ввода и запускаем проверку\r\n\t\t\t\t\tdocument.addEventListener('alpine:init', () => {\r\n\t\t\t\t\t\tAlpine.store('verifyByIdData', { id: id });\r\n\t\t\t\t\t\t// Ищем компонент и запускаем проверку\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tconst verifyComponent = document.querySelector('[x-data*=\"verifyById\"]');\r\n\t\t\t\t\t\t\tif (verifyComponent && verifyComponent.__x) {\r\n\t\t\t\t\t\t\t\tverifyComponent.__x.$data.id = id;\r\n\t\t\t\t\t\t\t\tverifyComponent.__x.$data.verifyById();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t</script></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
